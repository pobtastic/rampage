<!DOCTYPE html>
<html>
<head>
<title>Rampage: Routine at 56481</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="56293.html">56293</a>
</td>
<td class="up">Up: <a href="../maps/all.html#56481">Map</a></td>
<td class="next">
Next: <a href="56632.html">56632</a>
</td>
</tr>
</table>
<div class="description">56481: Handler: Spawn Humans</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="56951.html">RunHandlers</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56481"></span>
<div class="comments">
<div class="paragraph">
Just return if the number of active humans is already at the maximum amount for this level.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Handler_SpawnHumans</td>
<td class="address-2"><span id="56481"></span>56481</td>
<td class="instruction">LD A,(54260)</td>
<td class="comment-1" rowspan="5">Return if *<a href="54260.html">NumberHumans</a> is equal to *<a href="53777.html">MaxHumansCount</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56484"></span>56484</td>
<td class="instruction">LD B,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56485"></span>56485</td>
<td class="instruction">LD A,(53777)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56488"></span>56488</td>
<td class="instruction">CP B</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56489"></span>56489</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56490"></span>
<div class="comments">
<div class="paragraph">
Add a hint of randomness to whether we proceed or not. Roughly 50% chance.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56490"></span>56490</td>
<td class="instruction">CALL <a href="55848.html">RandomNumber</a></td>
<td class="comment-1" rowspan="2"><span class="register">B</span>=random number.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56493"></span>56493</td>
<td class="instruction">LD B,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56494"></span>56494</td>
<td class="instruction">LD A,(53776)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="53776.html">HumanGeneratorLimiter</a> (this appears to only ever be set to 128).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56497"></span>56497</td>
<td class="instruction">CP B</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is lower than <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56498"></span>56498</td>
<td class="instruction">RET C</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56499"></span>
<div class="comments">
<div class="paragraph">
Creates a random number between 0000-765.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56499"></span>56499</td>
<td class="instruction">CALL <a href="55848.html">RandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="55848.html">RandomNumber</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56502"></span>56502</td>
<td class="instruction">LD H,0</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>=random number between 0000-0255.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56504"></span>56504</td>
<td class="instruction">LD L,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56505"></span>56505</td>
<td class="instruction">CALL <a href="55848.html">RandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="55848.html">RandomNumber</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56508"></span>56508</td>
<td class="instruction">LD B,H</td>
<td class="comment-1" rowspan="2"><span class="register">BC</span>=random number between 0000-0255.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56509"></span>56509</td>
<td class="instruction">LD C,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56510"></span>56510</td>
<td class="instruction">CALL <a href="55848.html">RandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="55848.html">RandomNumber</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56513"></span>56513</td>
<td class="instruction">LD D,H</td>
<td class="comment-1" rowspan="2"><span class="register">DE</span>=random number between 0000-0255.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56514"></span>56514</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56515"></span>56515</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="2">Add them all together: <span class="register">HL</span>=<span class="register">HL</span>+<span class="register">DE</span>+<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56516"></span>56516</td>
<td class="instruction">ADD HL,BC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56517"></span>56517</td>
<td class="instruction">LD B,H</td>
<td class="comment-1" rowspan="2"><span class="register">BC</span>=<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56518"></span>56518</td>
<td class="instruction">LD C,L</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56519"></span>
<div class="comments">
<div class="paragraph">
Adding 101 to <span class="register">H</span> gives an address range of anywhere between <a href="25856.html">25856</a>-26621.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56519"></span>56519</td>
<td class="instruction">LD A,101</td>
<td class="comment-1" rowspan="3"><span class="register">H</span>+=101.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56521"></span>56521</td>
<td class="instruction">ADD A,H</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56522"></span>56522</td>
<td class="instruction">LD H,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56523"></span>56523</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="56481.html#56533">FoundSolidMatter</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56524"></span>56524</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56525"></span>56525</td>
<td class="instruction">JR NZ,<a href="56481.html#56533">FoundSolidMatter</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56527"></span>
<div class="comments">
<div class="paragraph">
The address in the buffer isn't compatible with containing a human, so have one more try...
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56527"></span>56527</td>
<td class="instruction">DEC H</td>
<td class="comment-1" rowspan="3">Decrease <span class="register">H</span> by three.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56528"></span>56528</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56529"></span>56529</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56530"></span>
<div class="comments">
<div class="paragraph">
Just give up here if we still haven't found a building to land on.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56530"></span>56530</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Return if *<span class="register">HL</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56531"></span>56531</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56532"></span>56532</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56533"></span>
<div class="comments">
<div class="paragraph">
The routine has found "something" but we still need to check that it's compatible with containing a human.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">FoundSolidMatter</td>
<td class="address-2"><span id="56533"></span>56533</td>
<td class="instruction">AND %01000000</td>
<td class="comment-1" rowspan="1">Keep only bit 6.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56535"></span>56535</td>
<td class="instruction">LD D,A</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56536"></span>56536</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56537"></span>56537</td>
<td class="instruction">CP 7</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is higher than 7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56539"></span>56539</td>
<td class="instruction">RET NC</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56540"></span>56540</td>
<td class="instruction">CP 3</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is lower than 3.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56542"></span>56542</td>
<td class="instruction">RET C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56543"></span>56543</td>
<td class="instruction">AND %00000001</td>
<td class="comment-1" rowspan="1">Keep only bit 0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56545"></span>56545</td>
<td class="instruction">JR Z,<a href="56481.html#56559">Handler_SpawnHumans_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="56481.html#56559">Handler_SpawnHumans_0</a> if the result is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56547"></span>56547</td>
<td class="instruction">LD A,7</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56549"></span>56549</td>
<td class="instruction">OR D</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">D</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56550"></span>56550</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56551"></span>56551</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56552"></span>56552</td>
<td class="instruction">LD A,8</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=8.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56554"></span>56554</td>
<td class="instruction">OR D</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">D</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56555"></span>56555</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56556"></span>56556</td>
<td class="instruction">DEC L</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56557"></span>56557</td>
<td class="instruction">JR <a href="56481.html#56570">Handler_SpawnHumans_1</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="56481.html#56570">Handler_SpawnHumans_1</a>.</td>
</tr>
<tr>
<td class="asm-label">Handler_SpawnHumans_0</td>
<td class="address-2"><span id="56559"></span>56559</td>
<td class="instruction">LD A,8</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=8.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56561"></span>56561</td>
<td class="instruction">OR D</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">D</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56562"></span>56562</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56563"></span>56563</td>
<td class="instruction">DEC L</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56564"></span>56564</td>
<td class="instruction">LD A,7</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56566"></span>56566</td>
<td class="instruction">OR D</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">D</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56567"></span>56567</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56568"></span>56568</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56569"></span>56569</td>
<td class="instruction">DEC C</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label">Handler_SpawnHumans_1</td>
<td class="address-2"><span id="56570"></span>56570</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56571"></span>56571</td>
<td class="instruction">LD A,104</td>
<td class="comment-1" rowspan="3"><span class="register">B</span>+=104.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56573"></span>56573</td>
<td class="instruction">ADD A,B</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56574"></span>56574</td>
<td class="instruction">LD B,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56575"></span>56575</td>
<td class="instruction">LD A,255</td>
<td class="comment-1" rowspan="2">Write 255 to *<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56577"></span>56577</td>
<td class="instruction">LD (BC),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56578"></span>56578</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56579"></span>56579</td>
<td class="instruction">LD (BC),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56580"></span>56580</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56581"></span>
<div class="comments">
<div class="paragraph">
Register that a new human has been created.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56581"></span>56581</td>
<td class="instruction">LD A,(54260)</td>
<td class="comment-1" rowspan="3">Increment *<a href="54260.html">NumberHumans</a> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56584"></span>56584</td>
<td class="instruction">INC A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56585"></span>56585</td>
<td class="instruction">LD (54260),A</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56588"></span>
<div class="comments">
<div class="paragraph">
Loop to find an empty slot.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56588"></span>56588</td>
<td class="instruction">LD HL,53841</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="53841.html">MonsterSpriteModifier</a> (<a href="53845.html">Table_Humans</a>-4).</td>
</tr>
<tr>
<td class="asm-label">Handler_Humans_FindSlot</td>
<td class="address-2"><span id="56591"></span>56591</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="4">Increment <span class="register">HL</span> by four.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56592"></span>56592</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56593"></span>56593</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56594"></span>56594</td>
<td class="instruction">INC HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56595"></span>56595</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="56481.html#56591">Handler_Humans_FindSlot</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56596"></span>56596</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56597"></span>56597</td>
<td class="instruction">JR NZ,<a href="56481.html#56591">Handler_Humans_FindSlot</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56599"></span>
<div class="comments">
<div class="paragraph">
Found an empty slot.
</div>
<div class="paragraph">
All humans start as type <a href="58005.html">1</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56599"></span>56599</td>
<td class="instruction">LD (HL),1</td>
<td class="comment-1" rowspan="1">Write human type <a href="58005.html">1</a> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="56601"></span>
<div class="comments">
<div class="paragraph">
Set a random countdown value.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56601"></span>56601</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56602"></span>56602</td>
<td class="instruction">CALL <a href="55848.html">RandomNumber</a></td>
<td class="comment-1" rowspan="3">Get a random number between 31-62.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56605"></span>56605</td>
<td class="instruction">AND %00011111</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56607"></span>56607</td>
<td class="instruction">ADD A,31</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56609"></span>56609</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> as the countdown to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56610"></span>56610</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56611"></span>56611</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56612"></span>56612</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56613"></span>56613</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56615"></span>56615</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56616"></span>56616</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56617"></span>56617</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56618"></span>56618</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="3">Rotate <span class="register">A</span> left three positions (bits 5 to 7 are now in positions 0 to 2).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56619"></span>56619</td>
<td class="instruction">RLCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56620"></span>56620</td>
<td class="instruction">RLCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56621"></span>56621</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1">Store the result in <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56622"></span>56622</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56623"></span>56623</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="3">Rotate <span class="register">A</span> left three positions (bits 5 to 7 are now in positions 0 to 2).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56624"></span>56624</td>
<td class="instruction">RLCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56625"></span>56625</td>
<td class="instruction">RLCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56626"></span>56626</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56628"></span>56628</td>
<td class="instruction">OR B</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56629"></span>56629</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56630"></span>56630</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="56631"></span>56631</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="56293.html">56293</a>
</td>
<td class="up">Up: <a href="../maps/all.html#56481">Map</a></td>
<td class="next">
Next: <a href="56632.html">56632</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Activision &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/rampage/">Source code</a>.</div>
<div><a href="../../asm/DCA1.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>