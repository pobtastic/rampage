<!DOCTYPE html>
<html>
<head>
<title>Rampage: Routine at E0AD</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="DF90.html">DF90</a>
</td>
<td class="up">Up: <a href="../maps/all.html#e0ad">Map</a></td>
<td class="next">
Next: <a href="E119.html">E119</a>
</td>
</tr>
</table>
<div class="description">E0AD: Routine at E0AD</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routines at <a href="E62D.html">E62D</a>, <a href="E68C.html">E68C</a> and <a href="EAF6.html">EAF6</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="e0ad"></span>E0AD</td>
<td class="instruction">LD HL,$D24D</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D24D.html">D24D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b0"></span>E0B0</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b1"></span>E0B1</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e0c1">E0C1</a> if the sign flag set.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b2"></span>E0B2</td>
<td class="instruction">JP M,<a href="E0AD.html#e0c1">$E0C1</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0b5"></span>E0B5</td>
<td class="instruction">ADD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b6"></span>E0B6</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-2"><span id="e0b7"></span>E0B7</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b8"></span>E0B8</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0b9"></span>E0B9</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e0c9">E0C9</a> if the sign flag set.</td>
</tr>
<tr>
<td class="address-1"><span id="e0ba"></span>E0BA</td>
<td class="instruction">JP M,<a href="E0AD.html#e0c9">$E0C9</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0bd"></span>E0BD</td>
<td class="instruction">ADD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0be"></span>E0BE</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0bf"></span>E0BF</td>
<td class="instruction">JR <a href="E0AD.html#e0cf">$E0CF</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E0AD.html#e0cf">E0CF</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e0c1"></span>E0C1</td>
<td class="instruction">XOR %10000000</td>
<td class="comment-1" rowspan="1">Flip bit 7.</td>
</tr>
<tr>
<td class="address-1"><span id="e0c3"></span>E0C3</td>
<td class="instruction">SUB (HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0c4"></span>E0C4</td>
<td class="instruction">CPL</td>
<td class="comment-1" rowspan="1">Invert the bits in <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0c5"></span>E0C5</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e0c6"></span>E0C6</td>
<td class="instruction">LD C,A</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0c7"></span>E0C7</td>
<td class="instruction">JR <a href="E0AD.html#e0b7">$E0B7</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E0AD.html#e0b7">E0B7</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e0c9"></span>E0C9</td>
<td class="instruction">XOR %10000000</td>
<td class="comment-1" rowspan="1">Flip bit 7.</td>
</tr>
<tr>
<td class="address-1"><span id="e0cb"></span>E0CB</td>
<td class="instruction">SUB (HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0cc"></span>E0CC</td>
<td class="instruction">CPL</td>
<td class="comment-1" rowspan="1">Invert the bits in <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0cd"></span>E0CD</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e0ce"></span>E0CE</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="e0cf"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routines at <a href="E25D.html">Handler_Humans</a>, <a href="F450.html">F450</a> and <a href="F4E6.html">F4E6</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="e0cf"></span>E0CF</td>
<td class="instruction">LD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0d0"></span>E0D0</td>
<td class="instruction">CP $20</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e10a">E10A</a> if <span class="register">A</span> is higher than 20.</td>
</tr>
<tr>
<td class="address-1"><span id="e0d2"></span>E0D2</td>
<td class="instruction">JR NC,<a href="E0AD.html#e10a">$E10A</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0d4"></span>E0D4</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0d5"></span>E0D5</td>
<td class="instruction">CP $18</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e10a">E10A</a> if <span class="register">A</span> is higher than 18.</td>
</tr>
<tr>
<td class="address-1"><span id="e0d7"></span>E0D7</td>
<td class="instruction">JR NC,<a href="E0AD.html#e10a">$E10A</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0d9"></span>E0D9</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="3">RRCA.</td>
</tr>
<tr>
<td class="address-1"><span id="e0da"></span>E0DA</td>
<td class="instruction">RRCA</td>
</tr>
<tr>
<td class="address-1"><span id="e0db"></span>E0DB</td>
<td class="instruction">RRCA</td>
</tr>
<tr>
<td class="address-1"><span id="e0dc"></span>E0DC</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0dd"></span>E0DD</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="address-1"><span id="e0df"></span>E0DF</td>
<td class="instruction">ADD A,$65</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=65.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e1"></span>E0E1</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e2"></span>E0E2</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e3"></span>E0E3</td>
<td class="instruction">AND %11100000</td>
<td class="comment-1" rowspan="1">Keep only bits 5-7.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e5"></span>E0E5</td>
<td class="instruction">ADD A,C</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e6"></span>E0E6</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e7"></span>E0E7</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E0AD.html#e0fe">E0FE</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e0e8"></span>E0E8</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="e0e9"></span>E0E9</td>
<td class="instruction">JR NZ,<a href="E0AD.html#e0fe">$E0FE</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0eb"></span>E0EB</td>
<td class="instruction">DEC H</td>
<td class="comment-1" rowspan="3">Decrease <span class="register">H</span> by three.</td>
</tr>
<tr>
<td class="address-1"><span id="e0ec"></span>E0EC</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="address-1"><span id="e0ed"></span>E0ED</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="address-1"><span id="e0ee"></span>E0EE</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E0AD.html#e0fe">E0FE</a> if *<span class="register">HL</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e0ef"></span>E0EF</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="e0f0"></span>E0F0</td>
<td class="instruction">JR NZ,<a href="E0AD.html#e0fe">$E0FE</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0f2"></span>E0F2</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">D</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0f3"></span>E0F3</td>
<td class="instruction">CP $3D</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e113">E113</a> if <span class="register">A</span> is not equal to 3D.</td>
</tr>
<tr>
<td class="address-1"><span id="e0f5"></span>E0F5</td>
<td class="instruction">JR NZ,<a href="E0AD.html#e113">$E113</a></td>
</tr>
<tr>
<td class="address-1"><span id="e0f7"></span>E0F7</td>
<td class="instruction">DEC H</td>
<td class="comment-1" rowspan="3">Decrease <span class="register">H</span> by three.</td>
</tr>
<tr>
<td class="address-1"><span id="e0f8"></span>E0F8</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="address-1"><span id="e0f9"></span>E0F9</td>
<td class="instruction">DEC H</td>
</tr>
<tr>
<td class="address-1"><span id="e0fa"></span>E0FA</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E0AD.html#e114">E114</a> if *<span class="register">HL</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e0fb"></span>E0FB</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="e0fc"></span>E0FC</td>
<td class="instruction">JR Z,<a href="E0AD.html#e114">$E114</a></td>
</tr>
<tr>
<td class="address-2"><span id="e0fe"></span>E0FE</td>
<td class="instruction">CP D</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e114">E114</a> if <span class="register">A</span> is lower than <span class="register">D</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e0ff"></span>E0FF</td>
<td class="instruction">JR C,<a href="E0AD.html#e114">$E114</a></td>
</tr>
<tr>
<td class="address-1"><span id="e101"></span>E101</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e102"></span>E102</td>
<td class="instruction">CP E</td>
<td class="comment-1" rowspan="2">Jump to <a href="E0AD.html#e114">E114</a> if <span class="register">A</span> is higher than <span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e103"></span>E103</td>
<td class="instruction">JR NC,<a href="E0AD.html#e114">$E114</a></td>
</tr>
<tr>
<td class="address-1"><span id="e105"></span>E105</td>
<td class="instruction">LD ($D215),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D215.html">D215</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e108"></span>E108</td>
<td class="instruction">OR A</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e109"></span>E109</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="e10a"></span>E10A</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e10b"></span>E10B</td>
<td class="instruction">LD A,($D3FB)</td>
<td class="comment-1" rowspan="3">Jump to <a href="EF86.html">EF86</a> if *<a href="D3FB.html">D3FB</a> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e10e"></span>E10E</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="e10f"></span>E10F</td>
<td class="instruction">JP Z,<a href="EF86.html">$EF86</a></td>
</tr>
<tr>
<td class="address-1"><span id="e112"></span>E112</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="address-2"><span id="e113"></span>E113</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="2">Write 00 to *<a href="D215.html">D215</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e114"></span>E114</td>
<td class="instruction">LD ($D215),A</td>
</tr>
<tr>
<td class="address-1"><span id="e117"></span>E117</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=00.</td>
</tr>
<tr>
<td class="address-1"><span id="e118"></span>E118</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="DF90.html">DF90</a>
</td>
<td class="up">Up: <a href="../maps/all.html#e0ad">Map</a></td>
<td class="next">
Next: <a href="E119.html">E119</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Activision &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.0.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/rampage/">Source code</a>.</div>
<div><a href="../dec/asm/57517.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>