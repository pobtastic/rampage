<!DOCTYPE html>
<html>
<head>
<title>Rampage: Routine at F4E6</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="F4D1.html">F4D1</a>
</td>
<td class="up">Up: <a href="../maps/all.html#f4e6">Map</a></td>
<td class="next">
Next: <a href="F69F.html">F69F</a>
</td>
</tr>
</table>
<div class="description">F4E6: Routine at F4E6</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="F450.html">F450</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="f4e6"></span>F4E6</td>
<td class="instruction">LD DE,$013F</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=013F.</td>
</tr>
<tr>
<td class="address-1"><span id="f4e9"></span>F4E9</td>
<td class="instruction">LD BC,($D228)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="D227.html#d228">D228</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f4ed"></span>F4ED</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f4ee"></span>F4EE</td>
<td class="instruction">CALL <a href="E0AD.html#e0cf">$E0CF</a></td>
<td class="comment-1" rowspan="1">Call <a href="E0AD.html#e0cf">E0CF</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f4f1"></span>F4F1</td>
<td class="instruction">LD A,($D3FC)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D3FB.html#d3fc">D3FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f4f4"></span>F4F4</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right one position, setting the carry flag if bit 0 was set.</td>
</tr>
<tr>
<td class="address-1"><span id="f4f5"></span>F4F5</td>
<td class="instruction">JR C,<a href="F4E6.html#f4f9">$F4F9</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f4f9">F4F9</a> if the carry flag is set.</td>
</tr>
<tr>
<td class="address-1"><span id="f4f7"></span>F4F7</td>
<td class="instruction">JR Z,<a href="F4E6.html#f501">$F501</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f501">F501</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-2"><span id="f4f9"></span>F4F9</td>
<td class="instruction">LD BC,$0001</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0001.</td>
</tr>
<tr>
<td class="address-1"><span id="f4fc"></span>F4FC</td>
<td class="instruction">LD E,$02</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=02.</td>
</tr>
<tr>
<td class="address-1"><span id="f4fe"></span>F4FE</td>
<td class="instruction">CALL <a href="F4E6.html#f543">$F543</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f543">F543</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f501"></span>F501</td>
<td class="instruction">LD DE,$013F</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=013F.</td>
</tr>
<tr>
<td class="address-1"><span id="f504"></span>F504</td>
<td class="instruction">LD BC,($D228)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="D227.html#d228">D228</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f508"></span>F508</td>
<td class="instruction">INC B</td>
<td class="comment-1" rowspan="1">Increment <span class="register">B</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f509"></span>F509</td>
<td class="instruction">CALL <a href="E0AD.html#e0cf">$E0CF</a></td>
<td class="comment-1" rowspan="1">Call <a href="E0AD.html#e0cf">E0CF</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f50c"></span>F50C</td>
<td class="instruction">LD A,($D3FC)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D3FB.html#d3fc">D3FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f50f"></span>F50F</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right one position, setting the carry flag if bit 0 was set.</td>
</tr>
<tr>
<td class="address-1"><span id="f510"></span>F510</td>
<td class="instruction">JR C,<a href="F4E6.html#f514">$F514</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f514">F514</a> if the carry flag is set.</td>
</tr>
<tr>
<td class="address-1"><span id="f512"></span>F512</td>
<td class="instruction">JR Z,<a href="F4E6.html#f51c">$F51C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f51c">F51C</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-2"><span id="f514"></span>F514</td>
<td class="instruction">LD BC,$0020</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0020.</td>
</tr>
<tr>
<td class="address-1"><span id="f517"></span>F517</td>
<td class="instruction">LD E,$03</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=03.</td>
</tr>
<tr>
<td class="address-1"><span id="f519"></span>F519</td>
<td class="instruction">CALL <a href="F4E6.html#f543">$F543</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f543">F543</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f51c"></span>F51C</td>
<td class="instruction">LD DE,$013F</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=013F.</td>
</tr>
<tr>
<td class="address-1"><span id="f51f"></span>F51F</td>
<td class="instruction">LD BC,($D228)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="D227.html#d228">D228</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f523"></span>F523</td>
<td class="instruction">INC B</td>
<td class="comment-1" rowspan="1">Increment <span class="register">B</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f524"></span>F524</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f525"></span>F525</td>
<td class="instruction">CALL <a href="E0AD.html#e0cf">$E0CF</a></td>
<td class="comment-1" rowspan="1">Call <a href="E0AD.html#e0cf">E0CF</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f528"></span>F528</td>
<td class="instruction">LD A,($D3FC)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D3FB.html#d3fc">D3FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f52b"></span>F52B</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right one position, setting the carry flag if bit 0 was set.</td>
</tr>
<tr>
<td class="address-1"><span id="f52c"></span>F52C</td>
<td class="instruction">JR C,<a href="F4E6.html#f530">$F530</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f530">F530</a> if the carry flag is set.</td>
</tr>
<tr>
<td class="address-1"><span id="f52e"></span>F52E</td>
<td class="instruction">JR Z,<a href="F4E6.html#f538">$F538</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f538">F538</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-2"><span id="f530"></span>F530</td>
<td class="instruction">LD BC,$0021</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0021.</td>
</tr>
<tr>
<td class="address-1"><span id="f533"></span>F533</td>
<td class="instruction">LD E,$04</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=04.</td>
</tr>
<tr>
<td class="address-1"><span id="f535"></span>F535</td>
<td class="instruction">CALL <a href="F4E6.html#f543">$F543</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f543">F543</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f538"></span>F538</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="4">Write 00 to: <ul class="">
<li>*<a href="D3FB.html">D3FB</a></li>
<li>*<a href="D3FB.html#d3fc">D3FC</a></li>
<li>*<a href="D218.html#d219">D219</a></li>
</ul></td>
</tr>
<tr>
<td class="address-1"><span id="f539"></span>F539</td>
<td class="instruction">LD ($D3FB),A</td>
</tr>
<tr>
<td class="address-1"><span id="f53c"></span>F53C</td>
<td class="instruction">LD ($D3FC),A</td>
</tr>
<tr>
<td class="address-1"><span id="f53f"></span>F53F</td>
<td class="instruction">LD ($D219),A</td>
</tr>
<tr>
<td class="address-1"><span id="f542"></span>F542</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="f543"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="F450.html">F450</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="f543"></span>F543</td>
<td class="instruction">LD A,($D3FC)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D3FB.html#d3fc">D3FC</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f546"></span>F546</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="1">Rotate <span class="register">A</span> right one position, setting the carry flag if bit 0 was set.</td>
</tr>
<tr>
<td class="address-1"><span id="f547"></span>F547</td>
<td class="instruction">LD A,($D215)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D215.html">D215</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f54a"></span>F54A</td>
<td class="instruction">JR NC,<a href="F4E6.html#f551">$F551</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f551">F551</a> if the carry flag is not set.</td>
</tr>
<tr>
<td class="address-1"><span id="f54c"></span>F54C</td>
<td class="instruction">LD A,$10</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=10.</td>
</tr>
<tr>
<td class="address-1"><span id="f54e"></span>F54E</td>
<td class="instruction">LD ($D215),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D215.html">D215</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f551"></span>F551</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="f552"></span>F552</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f553"></span>F553</td>
<td class="instruction">CP $09</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f56a">F56A</a> if <span class="register">A</span> is lower than 09.</td>
</tr>
<tr>
<td class="address-1"><span id="f555"></span>F555</td>
<td class="instruction">JR C,<a href="F4E6.html#f56a">$F56A</a></td>
</tr>
<tr>
<td class="address-1"><span id="f557"></span>F557</td>
<td class="instruction">CP $0E</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f565">F565</a> if <span class="register">A</span> is higher than 0E.</td>
</tr>
<tr>
<td class="address-1"><span id="f559"></span>F559</td>
<td class="instruction">JR NC,<a href="F4E6.html#f565">$F565</a></td>
</tr>
<tr>
<td class="address-1"><span id="f55b"></span>F55B</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f55c"></span>F55C</td>
<td class="instruction">AND %00000001</td>
<td class="comment-1" rowspan="1">Keep only bit 0.</td>
</tr>
<tr>
<td class="address-1"><span id="f55e"></span>F55E</td>
<td class="instruction">XOR %00000001</td>
<td class="comment-1" rowspan="1">Flip bit 0.</td>
</tr>
<tr>
<td class="address-1"><span id="f560"></span>F560</td>
<td class="instruction">ADD A,$0E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=0E.</td>
</tr>
<tr>
<td class="address-1"><span id="f562"></span>F562</td>
<td class="instruction">JP <a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f565"></span>F565</td>
<td class="instruction">CP $10</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f5e6">F5E6</a> if <span class="register">A</span> is not equal to 10.</td>
</tr>
<tr>
<td class="address-1"><span id="f567"></span>F567</td>
<td class="instruction">JP NZ,<a href="F4E6.html#f5e6">$F5E6</a></td>
</tr>
<tr>
<td class="address-2"><span id="f56a"></span>F56A</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f56b"></span>F56B</td>
<td class="instruction">CP $01</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f572">F572</a> if <span class="register">A</span> is not equal to 01.</td>
</tr>
<tr>
<td class="address-1"><span id="f56d"></span>F56D</td>
<td class="instruction">JR NZ,<a href="F4E6.html#f572">$F572</a></td>
</tr>
<tr>
<td class="address-1"><span id="f56f"></span>F56F</td>
<td class="instruction">LD ($D219),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D218.html#d219">D219</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f572"></span>F572</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f59e">F59E</a> if <span class="register">A</span> is not equal to 04.</td>
</tr>
<tr>
<td class="address-1"><span id="f574"></span>F574</td>
<td class="instruction">JR NZ,<a href="F4E6.html#f59e">$F59E</a></td>
</tr>
<tr>
<td class="address-1"><span id="f576"></span>F576</td>
<td class="instruction">LD A,($D219)</td>
<td class="comment-1" rowspan="3">Jump to <a href="F4E6.html#f59e">F59E</a> if *<a href="D218.html#d219">D219</a> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="f579"></span>F579</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="f57a"></span>F57A</td>
<td class="instruction">JR Z,<a href="F4E6.html#f59e">$F59E</a></td>
</tr>
<tr>
<td class="address-1"><span id="f57c"></span>F57C</td>
<td class="instruction">LD A,($D3FC)</td>
<td class="comment-1" rowspan="3">Jump to <a href="F4E6.html#f59e">F59E</a> if *<a href="D3FB.html#d3fc">D3FC</a> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="f57f"></span>F57F</td>
<td class="instruction">AND A</td>
</tr>
<tr>
<td class="address-1"><span id="f580"></span>F580</td>
<td class="instruction">JR NZ,<a href="F4E6.html#f59e">$F59E</a></td>
</tr>
<tr>
<td class="address-1"><span id="f582"></span>F582</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f583"></span>F583</td>
<td class="instruction">CALL <a href="DA28.html">RandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="DA28.html">RandomNumber</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f586"></span>F586</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f587"></span>F587</td>
<td class="instruction">CP $10</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f59e">F59E</a> if <span class="register">A</span> is higher than 10.</td>
</tr>
<tr>
<td class="address-1"><span id="f589"></span>F589</td>
<td class="instruction">JP NC,<a href="F4E6.html#f59e">$F59E</a></td>
</tr>
<tr>
<td class="address-1"><span id="f58c"></span>F58C</td>
<td class="instruction">LD A,($D3F7)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D3F7.html">D3F7</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f58f"></span>F58F</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f59e">F59E</a> if <span class="register">A</span> is equal to 08.</td>
</tr>
<tr>
<td class="address-1"><span id="f591"></span>F591</td>
<td class="instruction">JR Z,<a href="F4E6.html#f59e">$F59E</a></td>
</tr>
<tr>
<td class="address-1"><span id="f593"></span>F593</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f594"></span>F594</td>
<td class="instruction">LD ($D3F7),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D3F7.html">D3F7</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f597"></span>F597</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="1">Stash <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f598"></span>F598</td>
<td class="instruction">CALL <a href="F4E6.html#f5a4">$F5A4</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f5a4">F5A4</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f59b"></span>F59B</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f59c"></span>F59C</td>
<td class="instruction">JR <a href="F4E6.html#f538">$F538</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f538">F538</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f59e"></span>F59E</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f59f"></span>F59F</td>
<td class="instruction">ADD A,$2F</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=2F.</td>
</tr>
<tr>
<td class="address-1"><span id="f5a1"></span>F5A1</td>
<td class="instruction">JP <a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f5a4"></span>F5A4</td>
<td class="instruction">CALL <a href="DA28.html">RandomNumber</a></td>
<td class="comment-1" rowspan="2">Get a random number between 0-3.</td>
</tr>
<tr>
<td class="address-1"><span id="f5a7"></span>F5A7</td>
<td class="instruction">AND %00000011</td>
</tr>
<tr>
<td class="address-1"><span id="f5a9"></span>F5A9</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f5a4">F5A4</a> if <span class="register">A</span> is equal to 03.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ab"></span>F5AB</td>
<td class="instruction">JR Z,<a href="F4E6.html#f5a4">$F5A4</a></td>
</tr>
<tr>
<td class="address-1"><span id="f5ad"></span>F5AD</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="3"><span class="register">C</span>=<span class="register">A</span>*04.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ae"></span>F5AE</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="address-1"><span id="f5af"></span>F5AF</td>
<td class="instruction">LD C,A</td>
</tr>
<tr>
<td class="address-1"><span id="f5b0"></span>F5B0</td>
<td class="instruction">CALL <a href="DA28.html">RandomNumber</a></td>
<td class="comment-1" rowspan="2">Get a random number between 0-3.</td>
</tr>
<tr>
<td class="address-1"><span id="f5b3"></span>F5B3</td>
<td class="instruction">AND %00000011</td>
</tr>
<tr>
<td class="address-1"><span id="f5b5"></span>F5B5</td>
<td class="instruction">OR C</td>
<td class="comment-1" rowspan="1">Set the bits from <span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5b6"></span>F5B6</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="4"><span class="register">E</span>=4D+<span class="register">A</span>*04.</td>
</tr>
<tr>
<td class="address-1"><span id="f5b7"></span>F5B7</td>
<td class="instruction">ADD A,A</td>
</tr>
<tr>
<td class="address-1"><span id="f5b8"></span>F5B8</td>
<td class="instruction">ADD A,$4D</td>
</tr>
<tr>
<td class="address-1"><span id="f5ba"></span>F5BA</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="address-1"><span id="f5bb"></span>F5BB</td>
<td class="instruction">LD A,($D218)</td>
<td class="comment-1" rowspan="2"><span class="register">D</span>=*<a href="D218.html">D218</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5be"></span>F5BE</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="f5bf"></span>F5BF</td>
<td class="instruction">LD BC,($D22A)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="D227.html#d22a">D22A</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5c3"></span>F5C3</td>
<td class="instruction">CALL <a href="F4E6.html#f5d8">$F5D8</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f5d8">F5D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5c6"></span>F5C6</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f5c7"></span>F5C7</td>
<td class="instruction">CALL <a href="F4E6.html#f5d8">$F5D8</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f5d8">F5D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ca"></span>F5CA</td>
<td class="instruction">LD HL,$001F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=001F.</td>
</tr>
<tr>
<td class="address-1"><span id="f5cd"></span>F5CD</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ce"></span>F5CE</td>
<td class="instruction">LD B,H</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">H</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5cf"></span>F5CF</td>
<td class="instruction">LD C,L</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5d0"></span>F5D0</td>
<td class="instruction">CALL <a href="F4E6.html#f5d8">$F5D8</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f5d8">F5D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5d3"></span>F5D3</td>
<td class="instruction">INC C</td>
<td class="comment-1" rowspan="1">Increment <span class="register">C</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f5d4"></span>F5D4</td>
<td class="instruction">CALL <a href="F4E6.html#f5d8">$F5D8</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f5d8">F5D8</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5d7"></span>F5D7</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="f5d8"></span>F5D8</td>
<td class="instruction">PUSH DE</td>
<td class="comment-1" rowspan="2">Stash <span class="register">DE</span> and <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f5d9"></span>F5D9</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="address-1"><span id="f5da"></span>F5DA</td>
<td class="instruction">CALL <a href="DA3D.html">$DA3D</a></td>
<td class="comment-1" rowspan="1">Call <a href="DA3D.html">DA3D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5dd"></span>F5DD</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="2">Restore <span class="register">BC</span> and <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f5de"></span>F5DE</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="address-1"><span id="f5df"></span>F5DF</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="f5e0"></span>
<div class="comments">
<div class="paragraph">
<audio controls="" src="../audio/test.wav">
<p>Your browser doesn't support HTML5 audio. Here is a <a href="../audio/test.wav">link to the audio</a> instead.</p>
</audio>
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="f5e0"></span>F5E0</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="2">Write melody ID 01 to *<a href="FF00.html#ff8d">MelodyID</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5e2"></span>F5E2</td>
<td class="instruction">LD ($FF8D),A</td>
</tr>
<tr>
<td class="address-1"><span id="f5e5"></span>F5E5</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="f5e6"></span>F5E6</td>
<td class="instruction">CP $11</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f5f4">F5F4</a> if <span class="register">A</span> is not equal to 11.</td>
</tr>
<tr>
<td class="address-1"><span id="f5e8"></span>F5E8</td>
<td class="instruction">JR NZ,<a href="F4E6.html#f5f4">$F5F4</a></td>
</tr>
<tr>
<td class="address-1"><span id="f5ea"></span>F5EA</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5eb"></span>F5EB</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 03...</td>
</tr>
<tr>
<td class="address-1"><span id="f5ed"></span>F5ED</td>
<td class="instruction">LD A,$13</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=13.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ef"></span>F5EF</td>
<td class="instruction">JR NC,<a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a> if <span class="register">A</span> was higher than 03 on line <a href="F4E6.html#f5eb">F5EB</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f5f1"></span>F5F1</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f5f2"></span>F5F2</td>
<td class="instruction">JR <a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f5f4"></span>F5F4</td>
<td class="instruction">CP $0E</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 0E.</td>
</tr>
<tr>
<td class="address-1"><span id="f5f6"></span>F5F6</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f5f7"></span>F5F7</td>
<td class="instruction">CP $0F</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 0F.</td>
</tr>
<tr>
<td class="address-1"><span id="f5f9"></span>F5F9</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f5fa"></span>F5FA</td>
<td class="instruction">CP $12</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 12.</td>
</tr>
<tr>
<td class="address-1"><span id="f5fc"></span>F5FC</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f5fd"></span>F5FD</td>
<td class="instruction">CP $13</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 13.</td>
</tr>
<tr>
<td class="address-1"><span id="f5ff"></span>F5FF</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f600"></span>F600</td>
<td class="instruction">CP $15</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 15.</td>
</tr>
<tr>
<td class="address-1"><span id="f602"></span>F602</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f603"></span>F603</td>
<td class="instruction">CP $16</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is equal to 16.</td>
</tr>
<tr>
<td class="address-1"><span id="f605"></span>F605</td>
<td class="instruction">RET Z</td>
</tr>
<tr>
<td class="address-1"><span id="f606"></span>F606</td>
<td class="instruction">CP $14</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f614">F614</a> if <span class="register">A</span> is not equal to 14.</td>
</tr>
<tr>
<td class="address-1"><span id="f608"></span>F608</td>
<td class="instruction">JR NZ,<a href="F4E6.html#f614">$F614</a></td>
</tr>
<tr>
<td class="address-1"><span id="f60a"></span>F60A</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f60b"></span>F60B</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 03...</td>
</tr>
<tr>
<td class="address-1"><span id="f60d"></span>F60D</td>
<td class="instruction">LD A,$16</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=16.</td>
</tr>
<tr>
<td class="address-1"><span id="f60f"></span>F60F</td>
<td class="instruction">JR NC,<a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a> <span class="register">A</span> was higher than 03 on line <a href="F4E6.html#f60b">F60B</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f611"></span>F611</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f612"></span>F612</td>
<td class="instruction">JR <a href="F4E6.html#f61f">$F61F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f61f">F61F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f614"></span>F614</td>
<td class="instruction">CP $30</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f56a">F56A</a> if <span class="register">A</span> is lower than 30.</td>
</tr>
<tr>
<td class="address-1"><span id="f616"></span>F616</td>
<td class="instruction">JP C,<a href="F4E6.html#f56a">$F56A</a></td>
</tr>
<tr>
<td class="address-1"><span id="f619"></span>F619</td>
<td class="instruction">CP $34</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f56a">F56A</a> if <span class="register">A</span> is higher than 34.</td>
</tr>
<tr>
<td class="address-1"><span id="f61b"></span>F61B</td>
<td class="instruction">JP NC,<a href="F4E6.html#f56a">$F56A</a></td>
</tr>
<tr>
<td class="address-1"><span id="f61e"></span>F61E</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="f61f"></span>F61F</td>
<td class="instruction">LD E,A</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f620"></span>F620</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">DE</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f621"></span>F621</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="address-1"><span id="f622"></span>F622</td>
<td class="instruction">LD BC,($D228)</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=*<a href="D227.html#d228">D228</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f626"></span>F626</td>
<td class="instruction">CALL <a href="F4E6.html#f63e">$F63E</a></td>
<td class="comment-1" rowspan="1">Call <a href="F4E6.html#f63e">F63E</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f629"></span>F629</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="2">Restore <span class="register">DE</span> and <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="f62a"></span>F62A</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="address-1"><span id="f62b"></span>F62B</td>
<td class="instruction">LD HL,($D22A)</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=*<a href="D227.html#d22a">D22A</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f62e"></span>F62E</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f62f"></span>F62F</td>
<td class="instruction">LD B,H</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">H</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f630"></span>F630</td>
<td class="instruction">LD C,L</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f631"></span>F631</td>
<td class="instruction">LD A,($D218)</td>
<td class="comment-1" rowspan="2"><span class="register">D</span>=*<a href="D218.html">D218</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f634"></span>F634</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="f635"></span>F635</td>
<td class="instruction">CALL <a href="DA3D.html">$DA3D</a></td>
<td class="comment-1" rowspan="1">Call <a href="DA3D.html">DA3D</a>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="f638"></span>
<div class="comments">
<div class="paragraph">
<audio controls="" src="../audio/test.wav">
<p>Your browser doesn't support HTML5 audio. Here is a <a href="../audio/test.wav">link to the audio</a> instead.</p>
</audio>
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="f638"></span>F638</td>
<td class="instruction">LD A,$01</td>
<td class="comment-1" rowspan="2">Write melody ID 01 to *<a href="FF00.html#ff8d">MelodyID</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f63a"></span>F63A</td>
<td class="instruction">LD ($FF8D),A</td>
</tr>
<tr>
<td class="address-1"><span id="f63d"></span>F63D</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="f63e"></span>F63E</td>
<td class="instruction">LD HL,$D31F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D31F.html">D31F</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f641"></span>F641</td>
<td class="instruction">LD D,$00</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=00.</td>
</tr>
<tr>
<td class="address-1"><span id="f643"></span>F643</td>
<td class="instruction">LD E,C</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f644"></span>F644</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f645"></span>F645</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f646"></span>F646</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">AF</span> register with the shadow <span class="register">AF</span> register.</td>
</tr>
<tr>
<td class="address-1"><span id="f647"></span>F647</td>
<td class="instruction">LD E,$01</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=01.</td>
</tr>
<tr>
<td class="address-1"><span id="f649"></span>F649</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f64a"></span>F64A</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f654">F654</a> if <span class="register">A</span> is lower than 08.</td>
</tr>
<tr>
<td class="address-1"><span id="f64c"></span>F64C</td>
<td class="instruction">JR C,<a href="F4E6.html#f654">$F654</a></td>
</tr>
<tr>
<td class="address-1"><span id="f64e"></span>F64E</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="3">RRCA.</td>
</tr>
<tr>
<td class="address-1"><span id="f64f"></span>F64F</td>
<td class="instruction">RRCA</td>
</tr>
<tr>
<td class="address-1"><span id="f650"></span>F650</td>
<td class="instruction">RRCA</td>
</tr>
<tr>
<td class="address-1"><span id="f651"></span>F651</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="address-1"><span id="f653"></span>F653</td>
<td class="instruction">INC E</td>
<td class="comment-1" rowspan="1">Increment <span class="register">E</span> by one.</td>
</tr>
<tr>
<td class="address-2"><span id="f654"></span>F654</td>
<td class="instruction">LD HL,$D218</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D218.html">D218</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f657"></span>F657</td>
<td class="instruction">LD (HL),E</td>
<td class="comment-1" rowspan="1">Write <span class="register">E</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f658"></span>F658</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f659"></span>F659</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65a"></span>F65A</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65b"></span>F65B</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65c"></span>F65C</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65d"></span>F65D</td>
<td class="instruction">ADD A,A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65e"></span>F65E</td>
<td class="instruction">ADD A,H</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">H</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f65f"></span>F65F</td>
<td class="instruction">ADD A,L</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f660"></span>F660</td>
<td class="instruction">LD E,A</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f661"></span>F661</td>
<td class="instruction">LD IX,$D39F</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>=<a href="D39F.html">Table_Buildings</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f665"></span>F665</td>
<td class="instruction">ADD IX,DE</td>
<td class="comment-1" rowspan="1"><span class="register">IX</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f667"></span>F667</td>
<td class="instruction">LD A,(IX+$00)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="f66a"></span>F66A</td>
<td class="instruction">CP $03</td>
<td class="comment-1" rowspan="2">Return if <span class="register">A</span> is higher than 03.</td>
</tr>
<tr>
<td class="address-1"><span id="f66c"></span>F66C</td>
<td class="instruction">RET NC</td>
</tr>
<tr>
<td class="address-1"><span id="f66d"></span>F66D</td>
<td class="instruction">LD A,$13</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=13.</td>
</tr>
<tr>
<td class="address-1"><span id="f66f"></span>F66F</td>
<td class="instruction">SUB (IX+$05)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=*<span class="register">IX</span>+05.</td>
</tr>
<tr>
<td class="address-1"><span id="f672"></span>F672</td>
<td class="instruction">LD B,A</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f673"></span>F673</td>
<td class="instruction">LD A,($D229)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D227.html#d229">D229</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f676"></span>F676</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="f677"></span>F677</td>
<td class="instruction">CP B</td>
<td class="comment-1" rowspan="2">Jump to <a href="F4E6.html#f681">F681</a> if <span class="register">A</span> is higher than <span class="register">B</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="f678"></span>F678</td>
<td class="instruction">JR NC,<a href="F4E6.html#f681">$F681</a></td>
</tr>
<tr>
<td class="address-1"><span id="f67a"></span>F67A</td>
<td class="instruction">EX AF,AF'</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">AF</span> register with the shadow <span class="register">AF</span> register.</td>
</tr>
<tr>
<td class="address-1"><span id="f67b"></span>F67B</td>
<td class="instruction">AND %00000111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-2.</td>
</tr>
<tr>
<td class="address-1"><span id="f67d"></span>F67D</td>
<td class="instruction">LD E,$01</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=01.</td>
</tr>
<tr>
<td class="address-1"><span id="f67f"></span>F67F</td>
<td class="instruction">JR <a href="F4E6.html#f654">$F654</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f654">F654</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="f681"></span>F681</td>
<td class="instruction">LD A,(IX+$09)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">IX</span>+09.</td>
</tr>
<tr>
<td class="address-1"><span id="f684"></span>F684</td>
<td class="instruction">SUB $02</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=02.</td>
</tr>
<tr>
<td class="address-1"><span id="f686"></span>F686</td>
<td class="instruction">LD (IX+$09),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">IX</span>+09.</td>
</tr>
<tr>
<td class="address-1"><span id="f689"></span>F689</td>
<td class="instruction">JR NC,<a href="F4E6.html#f694">$F694</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F4E6.html#f694">F694</a> if {} is higher.</td>
</tr>
<tr>
<td class="address-1"><span id="f68b"></span>F68B</td>
<td class="instruction">LD (IX+$09),$00</td>
<td class="comment-1" rowspan="1">Write 00 to *<span class="register">IX</span>+09.</td>
</tr>
<tr>
<td class="address-1"><span id="f68f"></span>F68F</td>
<td class="instruction">LD (IX+$00),$02</td>
<td class="comment-1" rowspan="1">Write 02 to *<span class="register">IX</span>+00.</td>
</tr>
<tr>
<td class="address-1"><span id="f693"></span>F693</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="f694"></span>F694</td>
<td class="instruction">LD D,$01</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=01.</td>
</tr>
<tr>
<td class="address-1"><span id="f696"></span>F696</td>
<td class="instruction">LD E,$02</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=02.</td>
</tr>
<tr>
<td class="address-1"><span id="f698"></span>F698</td>
<td class="instruction">LD A,($DF45)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="DF45.html">Temp_MonsterID</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f69b"></span>F69B</td>
<td class="instruction">CALL <a href="DD97.html">Handler_AddPoints</a></td>
<td class="comment-1" rowspan="1">Call <a href="DD97.html">Handler_AddPoints</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="f69e"></span>F69E</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="F4D1.html">F4D1</a>
</td>
<td class="up">Up: <a href="../maps/all.html#f4e6">Map</a></td>
<td class="next">
Next: <a href="F69F.html">F69F</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Activision &copy; 2025 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.4.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/rampage/">Source code</a>.</div>
<div><a href="../dec/asm/62694.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>